# PostgreSQL 설정
spring.datasource.url=jdbc:postgresql://localhost:5432/app
spring.datasource.username=sungho
spring.datasource.password=0000
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate 설정
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.show-sql=true

# Character Encoding
spring.jpa.properties.hibernate.connection.characterEncoding=utf-8
spring.jpa.properties.hibernate.connection.CharSet=utf-8
spring.jpa.properties.hibernate.connection.useUnicode=true

# Redis 설정
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.database=0
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.enabled=true
spring.data.redis.lettuce.pool.max-active=32
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=2
spring.data.redis.lettuce.pool.time-between-eviction-runs=60s

# 데이터베이스 연결 풀 설정
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.initialization-fail-timeout=30000
spring.datasource.hikari.auto-commit=false

# MyBatis 설정
mybatis.config-location=classpath:mybatis-config.xml
mybatis.mapper-locations=classpath*:mapper/*.xml

# Jackson 설정
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=Asia/Seoul

# Async 설정
spring.task.execution.pool.core-size=2
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=50
spring.task.execution.thread-name-prefix=Async-

# Scheduling 설정
spring.task.scheduling.pool.size=1
spring.task.scheduling.thread-name-prefix=Scheduled-

# 추천 시스템 설정
recommendation.cache.ttl=3600
recommendation.batch.size=50
recommendation.trending.window=24

# AI 시스템 설정
ai.cache.enabled=true

# 로깅 설정
logging.level.com.example.crud.ai=DEBUG
logging.charset.console=UTF-8

# Actuator 설정
management.endpoints.web.exposure.include=health,info,metrics

# 설정 파일 import
spring.config.import=optional:classpath:application-secrets.properties